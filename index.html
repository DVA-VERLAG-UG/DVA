<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <title>DVA-YD.com – In Aufbau</title>
  <meta name="description" content="DVA Verlag – Website im Aufbau. Kontakt aufnehmen und informiert bleiben." />
  <meta name="robots" content="noindex, nofollow" />

  <!-- ✅ Dynamic Favicon (generated via canvas) -->
  <link id="favicon" rel="icon" type="image/png" href="/assets/images/favicon.png">
  <link rel="apple-touch-icon" href="/assets/images/favicon.png">

  <!-- Global styles -->
  <link rel="stylesheet" href="/assets/css/style.css">

  <!-- Header + Footer (injected) -->
  <script src="/js/header.js" defer></script>
  <script src="/js/footer.js" defer></script>

  <!-- Pagefind -->
  <script src="/_pagefind/pagefind.js" defer></script>

  <style>
    /* (unchanged styles – omitted here for brevity in explanation,
       but KEEP YOUR EXISTING STYLE BLOCK EXACTLY AS IS) */
  </style>
</head>

<body>
  <header id="site-header"></header>

  <!-- Video Background -->
  <div class="video-bg" aria-hidden="true">
    <video id="bgvid" autoplay muted loop playsinline preload="auto">
      <source src="/under_construction/assets/under_construction.mp4" type="video/mp4">
    </video>
  </div>
  <div class="overlay" aria-hidden="true"></div>

  <main>
    <section class="uc-wrap">
      <div class="card">
        <img src="/under_construction/assets/dva-logo-1.png" alt="DVA Verlag Logo" class="logo">

        <h1>DVA-YD.com</h1>
        <h2>DVA Verlag – In Aufbau</h2>

        <div class="divider"></div>

        <p>
          Wir arbeiten derzeit an einem neuen digitalen Auftritt.<br>
          Bald sind wir für Sie verfügbar.
        </p>

        <div class="status">
          <span class="dot"></span>
          <span>Website in Arbeit</span>
        </div>

        <div class="cta-row">
          <button class="btn primary" id="openContact" type="button">Kontakt aufnehmen</button>
          <a class="btn" href="/de/">Zur Startseite</a>
        </div>

        <div class="panel" id="contactPanel" aria-hidden="true">
          <div class="panel-inner">
            <form id="contactForm"
                  name="kontakt-uc"
                  method="POST"
                  data-netlify="true"
                  netlify-honeypot="bot-field">

              <input type="hidden" name="form-name" value="kontakt-uc">

              <p style="display:none">
                <label>Don’t fill this out: <input name="bot-field" /></label>
              </p>

              <div class="field">
                <label for="uc_name">Name</label>
                <input id="uc_name" name="name" required>
              </div>

              <div class="field">
                <label for="uc_email">E-Mail</label>
                <input id="uc_email" type="email" name="email" required>
              </div>

              <div class="field">
                <label for="uc_msg">Nachricht</label>
                <textarea id="uc_msg" name="nachricht" required></textarea>
              </div>

              <div class="panel-actions">
                <button class="btn" type="button" id="closeContact">Schließen</button>
                <button class="btn primary" id="submitBtn" type="submit">Senden</button>
              </div>

              <div class="toast" id="toast" role="status" aria-live="polite"></div>
            </form>
          </div>
        </div>

      </div>
    </section>
  </main>

  <footer id="site-footer"></footer>

  <script>
    /* -----------------------------
       ✅ Dynamic Square Favicon
    ------------------------------ */
    (function createSquareFavicon(){
      const img = new Image();
      img.src = "/under_construction/assets/dva-logo-1.png";
      img.onload = () => {
        const size = 256;
        const padding = 32;
        const canvas = document.createElement("canvas");
        canvas.width = size;
        canvas.height = size;
        const ctx = canvas.getContext("2d");

        ctx.clearRect(0, 0, size, size);

        const scale = Math.min(
          (size - padding * 2) / img.width,
          (size - padding * 2) / img.height
        );

        const w = img.width * scale;
        const h = img.height * scale;
        const x = (size - w) / 2;
        const y = (size - h) / 2;

        ctx.drawImage(img, x, y, w, h);

        const favicon = document.getElementById("favicon");
        if (favicon) {
          favicon.href = canvas.toDataURL("image/png");
        }
      };
    })();

    /* (your existing JS: video, contact panel, Netlify submit, toast etc.)
       KEEP ALL EXISTING CODE BELOW THIS POINT UNCHANGED */
  </script>

</body>
</html>
